@model KRS_G54.Models.Class
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, AuthoringTagHelpers

@{
    ViewData["Title"] = "Detail";
    Layout = "~/Areas/Manager/Views/Shared/_Layout.cshtml";
}

<h1>Details</h1>

<div class="row">
    <div class="col-md-12">
        <form asp-action="Edit">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="row">
                <div class="form-group col-lg-6">
                    <label asp-for="ClassName" class="control-label"></label>
                    <input asp-for="ClassName" class="form-control" readonly />
                    <span asp-validation-for="ClassName" class="text-danger"></span>
                </div>
                <div class="form-group col-lg-6" style="padding-left:0px">
                    <label asp-for="Capacity" class="control-label"></label>
                    <input asp-for="Capacity" class="form-control" readonly />
                    <span asp-validation-for="Capacity" class="text-danger"></span>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-lg-6">

                    <label class="control-label">Subject</label>
                    <input type="text" class="form-control" value="@ViewBag.SubjectName" name="SubjectCode" readonly />
                </div>
                <div class="form-group col-lg-6" style="padding-left:0px">
                    <label asp-for="SubjectCode" class="control-label"></label>
                    <input type="text" class="form-control" value="@ViewBag.SubjectCode" name="SubjectCode" readonly />
                </div>
            </div>
            <div class="row">
                <div class="form-group col-lg-6">
                    <label asp-for="Semester" class="control-label"></label>
                    <input type="text" class="form-control" value="@ViewBag.SemesterName" name="SubjectCode" readonly />
                </div>
                <div class="form-group col-lg-16">
                    <label class="control-label">Status</label>
                    <br />
                    <div class="custom-control custom-switch" style="margin-top:6px;">
                        <input type="checkbox" class="custom-control-input" id="toggleStatus" name="Status" value="true" @(Model.Status.GetValueOrDefault() ? "checked" : "") disabled />
                        <label class="custom-control-label" for="toggleStatus" id="toggleLabel">@(Model.Status.GetValueOrDefault() ? "Activate" : "Deactivate")</label>
                    </div>
              
                </div>
            </div>
            @* <div class="form-group">
            <label asp-for="CreatedBy" class="control-label"></label>
            <select asp-for="CreatedBy" class="form-control" asp-items="@ViewBag.AccountSelectList" disabled="disabled">
            </select>
            </div>*@

            <div class="form-group col-lg-12" style="padding-left:0px">
                <label asp-for="Description" class="control-label"></label>
                @Html.TextAreaFor(Model => Model.Description, new {@id = "FullDescription",
                @class = "form-control" , @rows = "10",@readonly = "readonly"})
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>
        </form>
    </div>
</div>
@*<div class="row">
    <div class="col-md-12">
        <button class="btn btn-success float-right" style="">Add Student</button>
    </div>
</div>*@

<div class="row">
    <div class="col-md-12">
        <h1>... then see student list</h1>
    </div>

</div>
<div class="row">
    <table class="table">
        <thead>
            <tr>
                <th>
                    Full Name
                </th>
                <th>
                    User Name
                </th>
                <th>
                    Email
                </th>
                <th>
                    Action
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in ViewBag.StudentList)
            {
                <tr>
                    <th>
                        @item.FullName
                    </th>
                    <td>
                        @item.UserName
                    </td>
                    <td>
                        @item.Email
                    </td>
                    <td>
                        <a asp-action="DeleteStudentFromClass" asp-controller="Class" asp-area="Manager" asp-route-classId="@ViewBag.ClassId" asp-route-accountId="@item.AccountId">
                            <i class="fa fa-trash" aria-hidden="true" style="color:red" title="Delete" onclick="return confirm('Are you sure to remove this student from class ?')"></i>
                        </a>
                    </td>
                    @*                <td>
                <div class="d-flex align-items-center">
                @Html.ActionLink("Edit", "Edit", new {Id = item.AccountId }, new {@class = "btn btn-info btn-sm mr-3"})
                @Html.ActionLink("Details", "Details", new { Id = item.AccountId },new {@class = "btn btn-info btn-sm btn-icon-text mr-3" })
                @Html.ActionLink("Delete", "Delete", new { Id = item.AccountId }, new { @class = "btn btn-danger btn-sm btn-icon-text", onclick = "return confirm('Are you sure you want to delete this cla?')" })
                </div>
                </td>*@
                </tr>
            }
        </tbody>
    </table>
</div>

<div>
    @Html.ActionLink("Back to List", "Index",new {}, new {@class = "btn btn-outline-primary text-black mr-2"})
    @Html.ActionLink("Edit", "Edit", new {Id=Model.ClassId},new {@class = "btn btn-success "})

</div>
